%h1= t('.title')

%table.data.box
  %thead
    %tr
      %th{:style => "width:10%"}= t('.barclamp')
      %th.status{:style => "width:10%"}= t('.status')
      %th{:style => "width:80%"}= t('.description')

  %tbody
    - @modules.each do |name, barclamp|
      %tr{:class => cycle(:odd, :even, :name => "barclamps")}
        %td
          %a.toggle.with_label{:href => "#", :id => "#{name.parameterize}_details_toggle", :rel => "#{name.parameterize}_details"}= name.camelize
        %td
          - barclamp[:proposals].each do |proposal_name, proposal|
            .led{:id => "#{name.parameterize}_#{proposal_name}", :class => proposal[:status], :style => "float:left", :title=>"#{proposal_name} - #{proposal[:status]}"}
        %td= "#{barclamp[:description].capitalize}"

      %tr{:class => current_cycle("barclamps"), :style => "display:none", :id => "#{name.parameterize}_details"}
        %td.container{:colspan => "3"}
          .box
            - form_for :proposal, :remote => true, :url => create_proposal_barclamp_path(:controller => name), :html => { :'data-type' => 'html', :'data-method' => 'put', :method => :put, :id => 'create_proposal_form', :class => "formtastic"} do |f|
              %table.data
                %tbody
                  - if barclamp[:proposals].length > 0
                    - barclamp[:proposals].each do |proposal_name, proposal|
                      %tr
                        %td{:style => "width:10%"}
                          = link_to proposal_name, "/crowbar/#{name}/1.0/proposals/#{proposal_name}"
                        %td.status
                          .led{:class => proposal[:status], :id => "#{name.parameterize}_details_#{proposal_name}", :title=> proposal[:status]}
                        %td= proposal[:description].capitalize
                  - if barclamp[:allow_multiple_proposals]
                    %tr
                      %td
                        = hidden_field_tag :barclamp, name
                        = text_field_tag :name, t('barclamp.barclamp_show.default')
                      %td &nbsp;
                      %td
                        = text_field_tag :description, "#{t 'created_on'} #{l(Time.now) }", :size => 60
                        %input.button{:type => "submit", :value => t('barclamp.barclamp_show.create_proposal')}

:javascript
  function update() {
    return false;
  }
